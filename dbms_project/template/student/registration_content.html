<div class="container">
        <form class="form-container" id="registrationForm"  method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-header">
                {% if not student.id %}
                    <h1>Student Registration</h1>
                    <p>Complete your profile for campus placements</p>
                {%else%}
                    <h1>Update Registration</h1>
                    <p>Update your profile for campus placements</p>
                {%endif%}
                
            </div>

            <div class="form-content">
                <!-- Personal Information -->
                <div class="section">
                    <h2 class="section-title">Personal Information</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Full Name <span class="required">*</span></label>
                            <input type="text" class="form-input" name="fullname" required placeholder="Enter your full name" value="{{student.name|default:''}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email <span class="required">*</span></label>
                            <input type="email" class="form-input" name="email" required placeholder="your.email@college.edu" value="{{student.email|default:''}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone Number <span class="required">*</span></label>
                            <input type="tel" class="form-input" name="phone" required placeholder="+91 98765 43210" value="{{student.phone|default:''}}">
                        </div>
                        <div class="form-group">
                            <label>Date of Birth <span class="required">*</span></label>
                            <input type="date" class="form-input" name="dob" value="{{ student.dob | default_if_none:'' | date:'Y-m-d' }}">

                        </div>
                    </div>
                </div>

                <!-- Academic Details -->
                <div class="section">
                    <h2 class="section-title">Academic Details</h2>
                    <div class="form-grid">
                        
                        <div class="form-group">
                            <label class="form-label">Current Year/Semester <span class="required">*</span></label>
                            <input type="text" class="form-input" name="yearsem" required placeholder="e.g., 4th Year, 7th Semester" value="{{academic.year_sem|default:''}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">CGPA <span class="required">*</span></label>
                            <input type="text" class="form-input" name="cgpa" required placeholder="e.g., 8.5 / 10.0" value="{{academic.cgpa|default:''}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Expected Graduation <span class="required">*</span></label>
                            <input type="text" class="form-input" name="graduation" required placeholder="e.g., May 2026" value="{{academic.graduation|default:''}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">12th Grade (%) <span class="required">*</span></label>
                            <input type="text" class="form-input" name="grade12" required placeholder="e.g., 92.5%"value="{{academic.grade12|default:''}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">10th Grade (%) <span class="required">*</span></label>
                            <input type="text" class="form-input" name="grade10" required placeholder="e.g., 95.0%" value="{{academic.grade10|default:''}}">
                        </div>
                    </div>
                </div>

                <!-- Placement Preferences -->
                <div class="section">
                    <h2 class="section-title">Placement Preferences</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Interested Domain <span class="required">*</span></label>
                            <input type="text" class="form-input" name="domain" required placeholder="e.g., Software Development, Data Science" value="{{placement.domain|default:''}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Preferred Role <span class="required">*</span></label>
                            <input type="text" class="form-input" name="role" required placeholder="e.g., Full Stack Developer, ML Engineer" value="{{placement.role|default:''}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Expected Salary (LPA) <span class="required">*</span></label>
                            <input type="text" class="form-input" name="salary" required placeholder="e.g., 8-12 LPA" value="{{placement.salary|default:''}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Preferred Location <span class="required">*</span></label>
                            <input type="text" class="form-input" name="location" required placeholder="e.g., Bangalore, Hyderabad, Remote" value="{{placement.location|default:''}}">
                        </div>
                    </div>
                </div>

                <!-- Skills & Technologies -->
                <div class="section">
                    <h2 class="section-title">Skills & Technologies</h2>
                    <div class="form-group full-width">
                        <label class="form-label">Add Your Skills</label>

                        <div class="skills-input-container" id="skillsContainer">
                            {% for skill in skills %}
                                <input type="hidden" name="skill" value="{{ skill.name }}">
                                <span class="skill-tag">{{ skill.name }}</span>
                            {% endfor %}
                        </div>

                        <div class="add-skill-container">
                            <input type="text" class="form-input" id="skillInput" placeholder="Enter a skill (e.g., JavaScript, Python)">
                            <button type="button" class="add-skill-btn" onclick="addSkill()">+ Add Skill</button>
                        </div>
                    </div>
                </div>

                <!-- Additional Information -->
                <div class="section">
                    <h2 class="section-title">Additional Information</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">LinkedIn Profile</label>
                            <input type="text" class="form-input" name="linkedin" placeholder="linkedin.com/in/yourprofile" value="{{student.linkedin|default:''}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">GitHub Profile</label>
                            <input type="text" class="form-input" name="github" placeholder="github.com/yourusername" value="{{student.github|default:''}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Portfolio Website</label>
                            <input type="text" class="form-input" name="portfolio" placeholder="yourportfolio.com" value="{{student.portfolio|default:''}}">
                        </div>
                    </div>
                </div>

                <!-- Submit Buttons -->
                <div class="submit-container">
                    
                    <button type="submit" class="submit-btn">ðŸ’¾ Submit Registration</button>
                </div>
            </div>
        </form>
    </div>

    <script>
    let skills = [{% for skill in skills %}"{{ skill.name }}",{% endfor %}];

    function addSkill() {
        const input = document.getElementById('skillInput');
        const value = input.value.trim();
        if (!value || skills.includes(value)) return;

        skills.push(value);
        renderSkills();
        input.value = '';
    }

    function removeSkill(skill) {
        skills = skills.filter(s => s !== skill);
        renderSkills();
    }

    function renderSkills() {
        const container = document.getElementById('skillsContainer');
        container.innerHTML = '';

        skills.forEach(skill => {
            const wrapper = document.createElement('span');
            wrapper.className = "skill-tag";
            wrapper.innerHTML = `
                ${skill}
                <span class="remove-skill" onclick="removeSkill('${skill}')">Ã—</span>`;

            const input = document.createElement('input');
            input.type = 'hidden';
            input.name = 'skill';
            input.value = skill;

            container.appendChild(input);
            container.appendChild(wrapper);
        });
    }

    window.onload = function(){
        renderSkills(); // load existing skills initially
    }
</script>
