<div class="container">
        <form class="form-container" id="registrationForm"  method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-header">
                {% if not student.id %}
                    <h1>Student Registration</h1>
                    <p>Complete your profile for campus placements</p>
                {%else%}
                    <h1>Update Registration</h1>
                    <p>Update your profile for campus placements</p>
                {%endif%}
                
            </div>

            <div class="form-content">
                <!-- Personal Information -->
                <div class="section">
                    <h2 class="section-title">Personal Information</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Full Name <span class="required">*</span></label>
                            <input type="text" class="form-input" name="fullname" required placeholder="Enter your full name" value="{{student.name|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email <span class="required">*</span></label>
                            <input type="email" class="form-input" name="email" required placeholder="your.email@college.edu" value="{{student.email|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone Number <span class="required">*</span></label>
                            <input type="tel" class="form-input" name="phone" required placeholder="+91 98765 43210" value="{{student.phone|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Date of Birth <span class="required">*</span></label>
                            <input type="date" class="form-input" name="dob" required value="{{student.dob|default:" "}}">
                        </div>
                    </div>
                </div>

                <!-- Academic Details -->
                <div class="section">
                    <h2 class="section-title">Academic Details</h2>
                    <div class="form-grid">
                        
                        <div class="form-group">
                            <label class="form-label">Current Year/Semester <span class="required">*</span></label>
                            <input type="text" class="form-input" name="yearsem" required placeholder="e.g., 4th Year, 7th Semester" value="{{academic.year_sem|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">CGPA <span class="required">*</span></label>
                            <input type="text" class="form-input" name="cgpa" required placeholder="e.g., 8.5 / 10.0" value="{{academic.cgpa|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Expected Graduation <span class="required">*</span></label>
                            <input type="text" class="form-input" name="graduation" required placeholder="e.g., May 2026" value="{{academic.graduation|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">12th Grade (%) <span class="required">*</span></label>
                            <input type="text" class="form-input" name="grade12" required placeholder="e.g., 92.5%"value="{{academic.grade12|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">10th Grade (%) <span class="required">*</span></label>
                            <input type="text" class="form-input" name="grade10" required placeholder="e.g., 95.0%" value="{{academic.grade10|default:" "}}">
                        </div>
                    </div>
                </div>

                <!-- Placement Preferences -->
                <div class="section">
                    <h2 class="section-title">Placement Preferences</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Interested Domain <span class="required">*</span></label>
                            <input type="text" class="form-input" name="domain" required placeholder="e.g., Software Development, Data Science" value="{{placement.domain|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Preferred Role <span class="required">*</span></label>
                            <input type="text" class="form-input" name="role" required placeholder="e.g., Full Stack Developer, ML Engineer" value="{{placement.role|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Expected Salary (LPA) <span class="required">*</span></label>
                            <input type="text" class="form-input" name="salary" required placeholder="e.g., 8-12 LPA" value="{{placement.salary|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Preferred Location <span class="required">*</span></label>
                            <input type="text" class="form-input" name="location" required placeholder="e.g., Bangalore, Hyderabad, Remote" value="{{placement.location|default:" "}}">
                        </div>
                    </div>
                </div>

                <!-- Skills & Technologies -->
                <div class="section">
                    <h2 class="section-title">Skills & Technologies</h2>
                    <div class="form-group full-width">
                        <label class="form-label">Add Your Skills</label>

                        
                        <div class="skills-input-container" id="skillsContainer"></div>

                       
                        <div class="add-skill-container">
                            <input type="text" class="form-input" id="skillInput" placeholder="Enter a skill (e.g., JavaScript, Python)">
                            <button type="button" class="add-skill-btn" onclick="addSkill()">+ Add Skill</button>
                        </div>
                    </div>
                </div>

                <!-- Additional Information -->
                <div class="section">
                    <h2 class="section-title">Additional Information</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">LinkedIn Profile</label>
                            <input type="text" class="form-input" name="linkedin" placeholder="linkedin.com/in/yourprofile" value="{{student.linkedin|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">GitHub Profile</label>
                            <input type="text" class="form-input" name="github" placeholder="github.com/yourusername" value="{{student.github|default:" "}}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Portfolio Website</label>
                            <input type="text" class="form-input" name="portfolio" placeholder="yourportfolio.com" value="{{student.portfolio|default:" "}}">
                        </div>
                    </div>
                </div>

                <!-- Submit Buttons -->
                <div class="submit-container">
                    
                    <button type="submit" class="submit-btn">ðŸ’¾ Submit Registration</button>
                </div>
            </div>
        </form>
    </div>

    <script>
        

        function addSkill() {
            const input = document.getElementById('skillInput');
            const value = input.value.trim();
            if (!value) return;

            // Create a hidden input to send to Django
            const hiddenInput = document.createElement('input');
            hiddenInput.type = 'hidden';
            hiddenInput.name = 'skill';  // must match request.POST.getlist('skill')
            hiddenInput.value = value;

            document.getElementById('skillsContainer').appendChild(hiddenInput);

            // Optionally, show it in the UI
            const span = document.createElement('span');
            span.textContent = value;
            span.classList.add('skill-tag');
            document.getElementById('skillsContainer').appendChild(span);

            input.value = '';  // clear input
        }

        function removeSkill(skill) {
            const index = skills.indexOf(skill);
            if (index > -1) {
                skills.splice(index, 1);
                renderSkills();
            }
        }

        function renderSkills() {
            const container = document.getElementById('skillsContainer');
            container.innerHTML = skills.map(skill => `
                <span class="skill-tag">
                    ${skill}
                    <span class="remove-skill" onclick="removeSkill('${skill}')">Ã—</span>
                </span>
            `).join('');
        }

        // Allow adding skill with Enter key
        document.getElementById('skillInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                addSkill();
            }
        }); 

        function handleSubmit(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const data = {};
            
            for (let [key, value] of formData.entries()) {
                data[key] = value;
            }
            
            data.skills = skills;
            
            console.log('Form Data:', data);
            
            showNotification('Registration submitted successfully! âœ…');
            
            // Here you would typically send the data to your server
            // Example: fetch('/api/register', { method: 'POST', body: JSON.stringify(data) })
        }

       

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
    </script>